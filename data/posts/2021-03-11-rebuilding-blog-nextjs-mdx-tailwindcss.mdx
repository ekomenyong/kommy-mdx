---
title: 'Rebuilding My Blog with Next.js, TypeScript, and Contentlayer'
summary: 'I updated my Next.js, TypeScript, Tailwind CSS blog with a fresh coat of paint, new components, and Contentlayer for markdown.'
cover_image: '/images/covers/cover-rebuilding-blog-nextjs-mdx-tailwindcss.jpg'
tags: ['next.js', 'mdx', 'tailwind css', 'typescript', 'contentlayer']
last_modified: '04-23-2022'
publish_date: '03-11-2021'
seo_title: 'Building a Markdown Blog with Next.js and Contentlayer'
draft: false
---

## Introduction

It's that time of year again when I totally redesign my website from the ground up. While my individual post template hasn't changed too much, I redesigned my page templates to feel a little more _me_. I have some future plans and wanted to align my personal website design with those upcoming plans.

Not much else has changed in this website refresh. I _did_ add a few new custom components and features but I'm still using Next.js, TypeScript, and Tailwind CSS. Beyond the design of the site, the only other major change is one you can't see &mdash; a [new tool to compile my markdown files](/posts/react-nextjs-developer-tech-stack-tools#contentlayer).

Let's take a break look at how I changed my website this time around.

## Contentlayer for MDX

<KommyImage
  src="/images/content/contentlayer-homepage.png"
  alt="Screenshot of Contentlayer (contentlayer.dev)"
  caption="Contentlayer is now in beta!"
  width={1370}
  height={705}
/>

Last year was the first time I built a blog website using MDX using `@next/mdx`. In January of this year, I came across [Contentlayer](https://www.contentlayer.dev/), a content SDK that focuses on great DX and performance. Some of the reasons you might love Contentlayer include:

- Easily `import` your content as data
- Use JS/TS &mdash; no new query language to learn
- Strong-typed data with auto-generated type definitions
- Built-in and configurable content validations
- Detailed error messages
- Fast build and page performance

The first tool I used that also follows the concept of structured content, or thinking of content as data, was [Sanity.io](https://www.sanity.io/structured-content), which I enjoy using to build web platforms for clients. Discovering Contentlayer was perfect to use for projects that need scalable content but don't need a robust CMS. [Now that it is in beta](https://www.contentlayer.dev/blog/beta), I suggest you try it out on your next project.

## Fresh Coat of Paint

<KommyImage
  src="/images/content/ekomenyong-website-redesign-device-mockup.png"
  alt="Macbook, iPad, and iPhone mockups of EkomEnyong.com homepage."
  caption="A modern and minimal design with pastel backgrounds."
  width={1445}
  height={690}
/>

While I appreciated how clean my previous design was, I wanted something that didn't feel like _every other_ portfolio website out there. I decided to go with large sans-serif typography on pastel colored backgrounds. It's a refreshed, modern take on minimal and I am actually really proud of this design.

## New Custom Components

I added a sticky, collapsible `TableOfContents` component that makes the reading experience for desktop users much more enjoyable. I also added a `SocialShare` widget to make it easy for readers to share my posts with their audiences on Twitter, FaceBook, and LinkedIn.

### Admonition

I love using admonitions in [Obsidian](https://obsidian.md/) and I wanted to bring that same feel to my blogging experience. I have created 10 different admonition types with an optional title prop and the ability to nest admonitions. Check out some of them below:

<Admonition type="info">
  This is an example of a default admonition without a `title` prop. In this case,
  the title default to the type of admonition.
</Admonition>

<Admonition type="tip" title="I edited the title here!">
  This is a cool message!
</Admonition>

<Admonition type="summary" title="nested admonitions, anyone?">
  This is _another_ cool message!
  <Admonition type="warning">
    <p>
      I know... *nested* admonitions are <Emoji emoji="ðŸ”¥" label="fire" />!
    </p>
  </Admonition>
</Admonition>

### Upgraded Code Blocks

I upgraded my code blocks to include code titles, line number functionality, and line highting with [rehype-prism-plus](https://github.com/timlrx/rehype-prism-plus). I have also included a `Pre` component that allows a user to copy a code block to their clipboard. Try it out by hovering over the code block below.

```tsx:project/file-path.tsx {7-14} showLineNumbers
// You can copy this code block
interface EmojiProps {
  label?: string;
  emoji: string;
}
// Note the highlighted rows below
export default function Emoji({ label, emoji, ...props }: EmojiProps) {
  return (
    <span
      role="img"
      aria-label={label || ''}
      aria-hidden={label ? 'false' : 'true'}
      {...props}
    >
      {emoji}
    </span>
  );
}

```
